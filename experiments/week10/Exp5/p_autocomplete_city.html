<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <title>Autocomplete - World Cities</title>

    <link rel="shortcut icon" href="../../../images/week10/meta_logo.ico" type="image/x-icon" title="favicon">
    <link href="../../../css/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="../../../css/bootstrap/css/bootstrap-theme.css" rel="stylesheet" />
    <link href="../../../css/jquery-ui.css" rel="stylesheet" />
    <link href="p_autocomplete_city.css" rel="stylesheet" />

    <script src="../../../javascript/jquery.js"></script>
    <script src="../../../javascript/bootstrap.min.js"></script>
    <script src="../../../javascript/jquery-ui.js"></script>
    <script src="p_autocomplete_city.js"></script>

</head>
<body>
    <div class="container" id="container">
        <h1>Autocomplete Experiment (JSON)</h1>
        <hr class="blueLine" />
    </div>

    <div class="container">
        <h3>Aim of the Experiment</h3>
        The aim of the experiment was to demonstrate the AJAX functionality. AJAX stands for Asynchronous JavaScript and XML.
        AJAX allows us to render the content asynchronously which allows us not to refresh the entire webpage and refresh
        a particular webpage area. Also it helps webpage to load quickly at the cilent's end. Below is the example where
        you need to type atleast three letters to invoke ajax call and the list of cities will be listed.
        <hr class="blueLine" />
    </div>

    <div class="container">
        <h4>Find Different Routes</h4>
        Type Source and Destination cities. This way AJAX call will happen and your typed cities will be listed.
        You need to type atleast 3 characters of the city you intend to serach.
        <div class="row">
            <div class="col-xs-2"></div>
            <div class="col-xs-8 form-inline adjust">
                <label for="source" class="label-padding">Source City  &nbsp; </label>
                <input id="source" class="form-control" placeholder="London">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label for="destination" class="label-padding">Destination City  &nbsp; </label>
                <input id="destination" class="form-control" placeholder="Paris">&nbsp;&nbsp;
            </div>
            <div class="col-xs-2"></div>
        </div>
    </div>

    <div class="container height">
        <hr />
        <h4>Code Snippet</h4>
        I have written a js file (check source code) a AJAX call happens when you type atleast 3 characters of the city you
        intend to search. Below is the code snippet.
    </div>

    <!-- ---------------------------- Code Content 1 ----------------------------------------- -->

    <div class="container">

        <pre>
jQuery(function () 
{
    /* --- SOURCE ---*/

    jQuery("#source").autocomplete({
        source: function (request, response) {
            jQuery.getJSON(
               "http://gd.geobytes.com/AutoCompleteCity?callback=?&q="+request.term,
               function (data) {
                   response(data);
               }
            );
        },
        minLength: 3,
        select: function (event, ui) {
            var selectedObj = ui.item;
            jQuery("#source").val(selectedObj.value);
            getcitydetails(selectedObj.value);
            return false;
        },
        open: function () {
            jQuery(this).removeClass("ui-corner-all").addClass("ui-corner-top");
        },
        close: function () {
            jQuery(this).removeClass("ui-corner-top").addClass("ui-corner-all");
        }
    });
    
    /*  --- DESTINATION --- */

    jQuery("#destination").autocomplete({
        source: function (request, response) {
            jQuery.getJSON(
               "http://gd.geobytes.com/AutoCompleteCity?callback=?&q=" + request.term,
               function (data) {
                   response(data);
               }
            );
        },
        minLength: 3,
        select: function (event, ui) {
            var selectedObj = ui.item;
            jQuery("#destination").val(selectedObj.value);
            getcitydetails(selectedObj.value);
            return false;
        },
        open: function () {
            jQuery(this).removeClass("ui-corner-all").addClass("ui-corner-top");
        },
        close: function () {
            jQuery(this).removeClass("ui-corner-top").addClass("ui-corner-all");
        }
    });
    jQuery("#source, #destination").autocomplete("option", "delay", 100);
});
    </pre>
        <hr />
    </div>

    <!-- ---------------------------- View Source Files ----------------------------------------- -->

    <div class="container">
        <h4> Source Code </h4>
        <div><a href="../../../fileview/Default.aspx?~/experiments/week10/Exp5/p_autocomplete_city.html" target="_blank">View HTML Source</a></div>
        <div><a href="../../../fileview/Default.aspx?~/experiments/week10/Exp5/p_autocomplete_city.css" target="_blank">View CSS Source</a></div>
        <div><a href="../../../fileview/Default.aspx?~/experiments/week10/Exp5/p_autocomplete_city.js" target="_blank">View JS Source</a></div>
        <hr />
    </div>

    <!-- ---------------------------- References  ----------------------------------------- -->

    <div class="container">
        <h4>References</h4>
        <div><a href="http://www.geobytes.com/" target="_blank">GeoBytes</a></div>
        <div> <a href="http://www.w3schools.com/ajax/" target="_blank">W3 Schools AJAX</a></div>
        <div> <a href="https://www.youtube.com/watch?v=mErJ3HFWZHs" target="_blank">Prof. Jose Youtube Channel</a></div>
    </div>

    <!------------------------------ Footer --------------------------------------->

    <div class="footer_div">
        <footer>
            Northeastern University, CCIS Spring 2015, Copy Right &copy; Abhishek Kumar
        </footer>
    </div>

</body>
</html>
